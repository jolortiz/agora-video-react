{"map":"{\"version\":3,\"sources\":[\"/Users/jonathanortiz/AgoraIO/Basic-Video-Call/One-to-One-Video/Agora-Web-Tutorial-1to1-React/src/utils/AgoraEnhancer.ts\",\"/Users/jonathanortiz/AgoraIO/Basic-Video-Call/One-to-One-Video/Agora-Web-Tutorial-1to1-React/src/hooks/useCamera.ts\",\"/Users/jonathanortiz/AgoraIO/Basic-Video-Call/One-to-One-Video/Agora-Web-Tutorial-1to1-React/src/hooks/useMicrophone.ts\",\"/Users/jonathanortiz/AgoraIO/Basic-Video-Call/One-to-One-Video/Agora-Web-Tutorial-1to1-React/src/hooks/useMediaStream.ts\",\"/Users/jonathanortiz/AgoraIO/Basic-Video-Call/One-to-One-Video/Agora-Web-Tutorial-1to1-React/src/App.tsx\",\"/Users/jonathanortiz/AgoraIO/Basic-Video-Call/One-to-One-Video/Agora-Web-Tutorial-1to1-React/src/serviceWorker.ts\",\"/Users/jonathanortiz/AgoraIO/Basic-Video-Call/One-to-One-Video/Agora-Web-Tutorial-1to1-React/src/index.tsx\"],\"names\":[\"enhancedAgoraRTC\",\"enhanceAgoraRTC\",\"AgoraRTC\",\"fakeClient\",\"createClient\",\"mode\",\"codec\",\"noop\",\"useCamera\",\"client\",\"arguments\",\"length\",\"undefined\",\"_useState\",\"useState\",\"_useState2\",\"Object\",\"slicedToArray\",\"cameraList\",\"setCameraList\",\"useEffect\",\"mounted\",\"onChange\",\"getCameras\",\"then\",\"cameras\",\"catch\",\"on\",\"gatewayClient\",\"removeEventListener\",\"useMicrophone\",\"microphoneList\",\"setMicrophoneList\",\"getRecordingDevices\",\"microphones\",\"useMediaStream\",\"filter\",\"localStream\",\"setLocalStream\",\"_useState3\",\"_useState4\",\"remoteStreamList\",\"setRemoteStreamList\",\"addRemote\",\"evt\",\"stream\",\"streamList\",\"concat\",\"toConsumableArray\",\"removeRemote\",\"id\",\"getId\",\"index\",\"findIndex\",\"item\",\"splice\",\"doSub\",\"subscribe\",\"addLocal\",\"func\",\"stop\",\"close\",\"useStyles\",\"makeStyles\",\"theme\",\"root\",\"flexGrow\",\"padding\",\"title\",\"fontWeight\",\"divider\",\"marginBottom\",\"buttonContainer\",\"display\",\"justifyContent\",\"buttonItem\",\"width\",\"advanceSettings\",\"marginTop\",\"defaultState\",\"appId\",\"channel\",\"uid\",\"token\",\"cameraId\",\"microphoneId\",\"reducer\",\"state\",\"action\",\"type\",\"objectSpread\",\"value\",\"App\",\"classes\",\"isJoined\",\"setisJoined\",\"isPublished\",\"setIsPublished\",\"_useState5\",\"_useState6\",\"isLoading\",\"setIsLoading\",\"_useReducer\",\"useReducer\",\"_useReducer2\",\"dispatch\",\"_useState7\",\"_useState8\",\"agoraClient\",\"setClient\",\"_useMediaStream\",\"_useMediaStream2\",\"enqueueSnackbar\",\"useSnackbar\",\"update\",\"actionType\",\"e\",\"target\",\"join\",\"_ref\",\"asyncToGenerator\",\"regenerator_default\",\"a\",\"mark\",\"_callee\",\"wrap\",\"_context\",\"prev\",\"next\",\"isNaN\",\"Number\",\"init\",\"createStream\",\"streamID\",\"video\",\"audio\",\"screen\",\"publish\",\"variant\",\"t0\",\"finish\",\"apply\",\"this\",\"_ref2\",\"_callee2\",\"_context2\",\"leave\",\"_ref3\",\"_callee3\",\"_context3\",\"unpublish\",\"react_default\",\"createElement\",\"Fragment\",\"AppBar\",\"color\",\"Toolbar\",\"Typography\",\"className\",\"Container\",\"Grid\",\"container\",\"spacing\",\"xs\",\"md\",\"Card\",\"CardContent\",\"noValidate\",\"autoComplete\",\"TextField\",\"required\",\"label\",\"fullWidth\",\"margin\",\"CardActions\",\"Button\",\"onClick\",\"disabled\",\"ThemeProvider\",\"createMuiTheme\",\"palette\",\"ExpansionPanel\",\"ExpansionPanelSummary\",\"expandIcon\",\"ExpandMore_default\",\"ExpansionPanelDetails\",\"select\",\"helperText\",\"map\",\"MenuItem\",\"key\",\"deviceId\",\"FormControl\",\"component\",\"FormLabel\",\"RadioGroup\",\"row\",\"FormControlLabel\",\"control\",\"Radio\",\"es\",\"fit\",\"Boolean\",\"window\",\"location\",\"hostname\",\"match\",\"primary\",\"main\",\"secondary\",\"ReactDOM\",\"render\",\"build\",\"anchorOrigin\",\"vertical\",\"horizontal\",\"autoHideDuration\",\"maxSnack\",\"document\",\"getElementById\",\"navigator\",\"serviceWorker\",\"ready\",\"registration\",\"unregister\"],\"mappings\":\"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\",\"sourcesContent\":[\"import AgoraRTC from \\\"agora-rtc-sdk\\\";\\nimport enhanceAgoraRTC from \\\"agoran-awe\\\";\\n// promisify class Client & Stream\\nconst enhancedAgoraRTC = enhanceAgoraRTC(AgoraRTC)\\nexport default enhancedAgoraRTC\",\"import { useState, useEffect } from 'react';\\nimport AgoraRTC from '../utils/AgoraEnhancer';\\nimport { IClientWithPromise } from 'agoran-awe/types/promisify';\\n\\nconst fakeClient = AgoraRTC.createClient({\\n  mode: 'live',\\n  codec: 'vp8'\\n})\\n\\nconst noop = () => {};\\n\\ninterface MediaDeviceInfo {\\n  label: string;\\n  deviceId: string;\\n}\\n\\nconst useCamera = (client = fakeClient): MediaDeviceInfo[] => {\\n  const [cameraList, setCameraList] = useState<MediaDeviceInfo[]>([]);\\n\\n  useEffect(() => {\\n    let mounted = true;\\n\\n    const onChange = () => {\\n      if (!client) {\\n        return;\\n      }\\n      client\\n        .getCameras()\\n        .then((cameras: MediaDeviceInfo[]) => {\\n          if (mounted) {\\n            setCameraList(cameras);\\n          }\\n        })\\n        .catch(noop);\\n    };\\n    \\n    client && client.on('camera-changed', onChange);\\n    \\n    onChange();\\n\\n    return () => {\\n      mounted = false;\\n      client && (client as IClientWithPromise & {gatewayClient: any}).gatewayClient.removeEventListener('cameraChanged', onChange);\\n    };\\n  }, [client]);\\n\\n  return cameraList;\\n};\\n\\nexport default useCamera;\\n\",\"import { useState, useEffect } from 'react';\\nimport AgoraRTC from '../utils/AgoraEnhancer';\\nimport { IClientWithPromise } from 'agoran-awe/types/promisify';\\n\\nconst fakeClient = AgoraRTC.createClient({\\n  mode: 'live',\\n  codec: 'vp8'\\n})\\n\\nconst noop = () => {};\\n\\ninterface MediaDeviceInfo {\\n  label: string;\\n  deviceId: string;\\n}\\n\\nconst useMicrophone = (client = fakeClient): MediaDeviceInfo[] => {\\n  const [microphoneList, setMicrophoneList] = useState<MediaDeviceInfo[]>([]);\\n\\n  useEffect(() => {\\n    let mounted = true;\\n\\n    const onChange = () => {\\n      if (!client) {\\n        return\\n      }\\n      client\\n        .getRecordingDevices()\\n        .then((microphones: MediaDeviceInfo[]) => {\\n          if (mounted) {\\n            setMicrophoneList(microphones);\\n          }\\n        })\\n        .catch(noop);\\n    };\\n\\n    client && client.on('recording-device-changed', onChange);\\n    onChange();\\n\\n    return () => {\\n      mounted = false;\\n      client && (client as IClientWithPromise & {gatewayClient: any}).gatewayClient.removeEventListener(\\n        'recordingDeviceChanged',\\n        onChange\\n      );\\n    };\\n  }, [client]);\\n\\n  return microphoneList;\\n};\\n\\nexport default useMicrophone;\\n\",\"import { useState, useEffect } from \\\"react\\\";\\n\\nconst useMediaStream = (client: any, filter?: (streamId: number) => boolean): any[] => {\\n  const [localStream, setLocalStream] = useState<any>(undefined);\\n  const [remoteStreamList, setRemoteStreamList] = useState<any[]>([]);\\n\\n  useEffect(() => {\\n    let mounted = true;\\n    // add when subscribed\\n    const addRemote = (evt: any) => {\\n      if (!mounted) {\\n        return;\\n      }\\n      const { stream } = evt;\\n      setRemoteStreamList(streamList => [...streamList, stream]);\\n    };\\n    // remove stream\\n    const removeRemote = (evt: any) => {\\n      const { stream } = evt;\\n      if (stream) {\\n        const id = stream.getId();\\n        const index = remoteStreamList.findIndex(item => item.getId() === id);\\n        if (index !== -1) {\\n          setRemoteStreamList(streamList => {\\n            streamList.splice(index, 1);\\n            return streamList;\\n          });\\n        }\\n      }\\n    };\\n    // subscribe when added\\n    const doSub = (evt: any) => {\\n      if (!mounted) {\\n        return;\\n      }\\n      if (filter) {\\n        if (filter(evt.stream.getId())) {\\n          client.subscribe(evt.stream);\\n        }\\n      } else {\\n        client.subscribe(evt.stream);\\n      }\\n    };\\n    // add when published\\n    const addLocal = (evt: any) => {\\n      if (!mounted) {\\n        return;\\n      }\\n      const { stream } = evt;\\n      const stop = stream.stop;\\n      const close = stream.close;\\n      stream.close = (func => () => {\\n        func()     \\n        setLocalStream(undefined);   \\n      })(close);\\n      stream.stop = (func => () => {\\n        func()     \\n        setLocalStream(undefined);   \\n      })(stop);\\n      setLocalStream(stream)\\n    };\\n\\n    if (client) {\\n      client.on(\\\"stream-published\\\", addLocal);\\n      client.on(\\\"stream-added\\\", doSub);\\n      client.on(\\\"stream-subscribed\\\", addRemote);\\n      client.on(\\\"peer-leave\\\", removeRemote);\\n      client.on(\\\"stream-removed\\\", removeRemote);\\n    }\\n\\n    return () => {\\n      mounted = false;\\n      if (client) {\\n        client.gatewayClient.removeEventListener(\\\"stream-published\\\", addLocal);\\n        client.gatewayClient.removeEventListener(\\\"stream-added\\\", doSub);\\n        client.gatewayClient.removeEventListener(\\\"stream-subscribed\\\", addRemote);\\n        client.gatewayClient.removeEventListener(\\\"peer-leave\\\", removeRemote);\\n        client.gatewayClient.removeEventListener(\\\"stream-removed\\\", removeRemote);\\n      }\\n    };\\n  }, [client, filter]);\\n\\n  return [localStream, remoteStreamList, [localStream].concat(remoteStreamList)];\\n};\\n\\nexport default useMediaStream;\\n\",\"import React, { useReducer, useState } from \\\"react\\\";\\nimport { makeStyles } from \\\"@material-ui/core/styles\\\";\\nimport Grid from \\\"@material-ui/core/Grid\\\";\\nimport Typography from \\\"@material-ui/core/Typography\\\";\\nimport Container from \\\"@material-ui/core/Container\\\";\\nimport AppBar from \\\"@material-ui/core/AppBar\\\";\\nimport Toolbar from \\\"@material-ui/core/Toolbar\\\";\\nimport Card from \\\"@material-ui/core/Card\\\";\\nimport CardActions from \\\"@material-ui/core/CardActions\\\";\\nimport CardContent from \\\"@material-ui/core/CardContent\\\";\\nimport Button from \\\"@material-ui/core/Button\\\";\\nimport TextField from \\\"@material-ui/core/TextField\\\";\\nimport MenuItem from \\\"@material-ui/core/MenuItem\\\";\\nimport ExpansionPanel from \\\"@material-ui/core/ExpansionPanel\\\";\\nimport ExpansionPanelSummary from \\\"@material-ui/core/ExpansionPanelSummary\\\";\\nimport ExpansionPanelDetails from \\\"@material-ui/core/ExpansionPanelDetails\\\";\\nimport ExpandMoreIcon from \\\"@material-ui/icons/ExpandMore\\\";\\nimport FormControlLabel from \\\"@material-ui/core/FormControlLabel\\\";\\nimport FormControl from \\\"@material-ui/core/FormControl\\\";\\nimport FormLabel from \\\"@material-ui/core/FormLabel\\\";\\nimport Radio from \\\"@material-ui/core/Radio\\\";\\nimport RadioGroup from \\\"@material-ui/core/RadioGroup\\\";\\nimport { createMuiTheme } from \\\"@material-ui/core/styles\\\";\\nimport { ThemeProvider } from \\\"@material-ui/styles\\\";\\nimport StreamPlayer from \\\"agora-stream-player\\\";\\nimport { SnackbarProvider, useSnackbar } from \\\"notistack\\\";\\n\\nimport { useCamera, useMicrophone, useMediaStream } from \\\"./hooks\\\";\\nimport AgoraRTC from \\\"./utils/AgoraEnhancer\\\";\\n\\nconst useStyles = makeStyles(theme => ({\\n  root: {\\n    flexGrow: 1,\\n    padding: 12\\n  },\\n  title: {\\n    fontWeight: 400\\n  },\\n  divider: {\\n    marginBottom: \\\"32px\\\"\\n  },\\n  buttonContainer: {\\n    display: \\\"flex\\\",\\n    justifyContent: \\\"space-around\\\"\\n  },\\n  buttonItem: {\\n    width: \\\"38.2%\\\"\\n  },\\n  advanceSettings: {\\n    marginTop: 16\\n  }\\n}));\\n\\nconst defaultState = {\\n  appId: \\\"\\\",\\n  channel: \\\"\\\",\\n  uid: \\\"\\\",\\n  token: undefined,\\n  cameraId: \\\"\\\",\\n  microphoneId: \\\"\\\",\\n  mode: \\\"rtc\\\",\\n  codec: \\\"h264\\\"\\n};\\n\\nconst reducer = (\\n  state: typeof defaultState,\\n  action: { type: string; [propName: string]: any }\\n) => {\\n  switch (action.type) {\\n    default:\\n      return state;\\n    case \\\"setAppId\\\":\\n      return {\\n        ...state,\\n        appId: action.value\\n      };\\n    case \\\"setChannel\\\":\\n      return {\\n        ...state,\\n        channel: action.value\\n      };\\n    case \\\"setUid\\\":\\n      return {\\n        ...state,\\n        uid: action.value\\n      };\\n    case \\\"setToken\\\":\\n      return {\\n        ...state,\\n        token: action.value\\n      };\\n    case \\\"setCamera\\\":\\n      return {\\n        ...state,\\n        cameraId: action.value\\n      };\\n    case \\\"setMicrophone\\\":\\n      return {\\n        ...state,\\n        microphoneId: action.value\\n      };\\n    case \\\"setMode\\\":\\n      return {\\n        ...state,\\n        mode: action.value\\n      };\\n    case \\\"setCodec\\\":\\n      return {\\n        ...state,\\n        codec: action.value\\n      };\\n  }\\n};\\n\\nfunction App() {\\n  const classes = useStyles();\\n  const [isJoined, setisJoined] = useState(false);\\n  const [isPublished, setIsPublished] = useState(false);\\n  const [isLoading, setIsLoading] = useState(false);\\n  const [state, dispatch] = useReducer(reducer, defaultState);\\n  const [agoraClient, setClient] = useState<any>(undefined)\\n  // const agoraClient = AgoraRTC.createClient({ mode: state.mode, codec: state.codec });\\n  const cameraList = useCamera();\\n  const microphoneList = useMicrophone();\\n  let [localStream, remoteStreamList, streamList] = useMediaStream(agoraClient);\\n  const { enqueueSnackbar } = useSnackbar();\\n\\n  const update = (actionType: string) => (e: React.ChangeEvent<unknown>) => {\\n    return dispatch({\\n      type: actionType,\\n      value: (e.target as HTMLInputElement).value\\n    });\\n  };\\n\\n  const join = async () => {\\n    const client = AgoraRTC.createClient({ mode: state.mode, codec: state.codec })\\n    setClient(client)\\n    setIsLoading(true);\\n    try {\\n      const uid = isNaN(Number(state.uid)) ? null : Number(state.uid);\\n      await client.init(state.appId);\\n      await client.join(state.token, state.channel, uid);\\n      const stream = AgoraRTC.createStream({\\n        streamID: uid || 12345,\\n        video: true,\\n        audio: true,\\n        screen: false\\n      });\\n      // stream.setVideoProfile('480p_4')\\n      await stream.init();\\n      await client.publish(stream);\\n      setIsPublished(true);\\n      setisJoined(true);\\n      enqueueSnackbar(`Joined channel ${state.channel}`, { variant: \\\"info\\\" });\\n    } catch (err) {\\n      enqueueSnackbar(`Failed to join, ${err}`, { variant: \\\"error\\\" });\\n    } finally {\\n      setIsLoading(false);\\n    }\\n  };\\n\\n  const publish = async () => {\\n    setIsLoading(true);\\n    try {\\n      if (localStream) {\\n        await agoraClient.publish(localStream);\\n        setIsPublished(true);\\n      }\\n      enqueueSnackbar(\\\"Stream published\\\", { variant: \\\"info\\\" });\\n    } catch (err) {\\n      enqueueSnackbar(`Failed to publish, ${err}`, { variant: \\\"error\\\" });\\n    } finally {\\n      setIsLoading(false);\\n    }\\n  };\\n\\n  const leave = async () => {\\n    setIsLoading(true);\\n    try {\\n      if (localStream) {\\n        localStream.close();\\n        agoraClient.unpublish(localStream);\\n      }\\n      await agoraClient.leave();\\n      setIsPublished(false);\\n      setisJoined(false);\\n      enqueueSnackbar(\\\"Left channel\\\", { variant: \\\"info\\\" });\\n    } catch (err) {\\n      enqueueSnackbar(`Failed to leave, ${err}`, { variant: \\\"error\\\" });\\n    } finally {\\n      setIsLoading(false);\\n    }\\n  };\\n\\n  const unpublish = () => {\\n    if (localStream) {\\n      agoraClient.unpublish(localStream);\\n      setIsPublished(false);\\n      enqueueSnackbar(\\\"Stream unpublished\\\", { variant: \\\"info\\\" });\\n    }\\n  };\\n\\n  const JoinLeaveBtn = () => {\\n    return (\\n      <Button\\n        className={classes.buttonItem}\\n        color={isJoined ? \\\"secondary\\\" : \\\"primary\\\"}\\n        onClick={isJoined ? leave : join}\\n        variant=\\\"contained\\\"\\n        disabled={isLoading}\\n      >\\n        {isJoined ? \\\"Leave\\\" : \\\"Join\\\"}\\n      </Button>\\n    );\\n  };\\n\\n  const PubUnpubBtn = () => {\\n    return (\\n      <Button\\n        className={classes.buttonItem}\\n        color={isPublished ? \\\"secondary\\\" : \\\"default\\\"}\\n        onClick={isPublished ? unpublish : publish}\\n        variant=\\\"contained\\\"\\n        disabled={!isJoined || isLoading}\\n      >\\n        {isPublished ? \\\"Unpublish\\\" : \\\"Publish\\\"}\\n      </Button>\\n    );\\n  };\\n\\n  return (\\n    <React.Fragment>\\n      <AppBar color=\\\"primary\\\">\\n        <Toolbar>\\n          <Typography className={classes.title} variant=\\\"h6\\\">\\n            Basic Communication\\n          </Typography>\\n        </Toolbar>\\n      </AppBar>\\n      <Toolbar className={classes.divider} />\\n      <Container>\\n        <Grid container spacing={3}>\\n          {/* form */}\\n          <Grid item xs={12} md={4}>\\n            <Card>\\n              <CardContent>\\n                <form noValidate autoComplete=\\\"off\\\">\\n                  <TextField\\n                    required\\n                    value={state.appId}\\n                    onChange={update(\\\"setAppId\\\")}\\n                    id=\\\"appId\\\"\\n                    label=\\\"App ID\\\"\\n                    fullWidth\\n                    margin=\\\"normal\\\"\\n                  />\\n                  <TextField\\n                    required\\n                    value={state.channel}\\n                    onChange={update(\\\"setChannel\\\")}\\n                    id=\\\"channel\\\"\\n                    label=\\\"Channel\\\"\\n                    fullWidth\\n                    margin=\\\"normal\\\"\\n                  />\\n\\n                  <TextField\\n                    value={state.token}\\n                    onChange={update(\\\"setToken\\\")}\\n                    id=\\\"token\\\"\\n                    label=\\\"Token\\\"\\n                    fullWidth\\n                    margin=\\\"normal\\\"\\n                  />\\n                </form>\\n              </CardContent>\\n              <CardActions className={classes.buttonContainer}>\\n                <JoinLeaveBtn />\\n                <PubUnpubBtn />\\n              </CardActions>\\n            </Card>\\n\\n            {/* advanced settings */}\\n            <ThemeProvider\\n              theme={createMuiTheme({\\n                palette: {\\n                  type: \\\"dark\\\"\\n                }\\n              })}\\n            >\\n              <ExpansionPanel className={classes.advanceSettings}>\\n                <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\\n                  <Typography>Advanced Settings</Typography>\\n                </ExpansionPanelSummary>\\n                <ExpansionPanelDetails>\\n                  <form noValidate autoComplete=\\\"off\\\">\\n                    <TextField\\n                      value={state.uid}\\n                      id=\\\"uid\\\"\\n                      onChange={update(\\\"setUid\\\")}\\n                      label=\\\"UID\\\"\\n                      fullWidth\\n                      margin=\\\"normal\\\"\\n                    />\\n                    <TextField\\n                      id=\\\"cameraId\\\"\\n                      value={state.cameraId}\\n                      onChange={update(\\\"setCamera\\\")}\\n                      select\\n                      label=\\\"Camera\\\"\\n                      helperText=\\\"Please select your camera\\\"\\n                      fullWidth\\n                      margin=\\\"normal\\\"\\n                    >\\n                      {cameraList.map(item => (\\n                        <MenuItem key={item.deviceId} value={item.deviceId}>\\n                          {item.label}\\n                        </MenuItem>\\n                      ))}\\n                    </TextField>\\n                    <TextField\\n                      id=\\\"microphoneId\\\"\\n                      value={state.microphoneId}\\n                      onChange={update(\\\"setMicrophone\\\")}\\n                      select\\n                      label=\\\"Microphone\\\"\\n                      helperText=\\\"Please select your microphone\\\"\\n                      fullWidth\\n                      margin=\\\"normal\\\"\\n                    >\\n                      {microphoneList.map(item => (\\n                        <MenuItem key={item.deviceId} value={item.deviceId}>\\n                          {item.label}\\n                        </MenuItem>\\n                      ))}\\n                    </TextField>\\n\\n                    <FormControl fullWidth component=\\\"fieldset\\\" margin=\\\"normal\\\">\\n                      <FormLabel>Mode</FormLabel>\\n                      <RadioGroup\\n                        row\\n                        value={state.mode}\\n                        onChange={update(\\\"setMode\\\")}\\n                      >\\n                        <FormControlLabel\\n                          value=\\\"live\\\"\\n                          control={<Radio color=\\\"primary\\\" />}\\n                          label=\\\"live\\\"\\n                        />\\n                        <FormControlLabel\\n                          value=\\\"rtc\\\"\\n                          control={<Radio color=\\\"primary\\\" />}\\n                          label=\\\"rtc\\\"\\n                        />\\n                      </RadioGroup>\\n                    </FormControl>\\n\\n                    <FormControl fullWidth component=\\\"fieldset\\\" margin=\\\"normal\\\">\\n                      <FormLabel>Codec</FormLabel>\\n                      <RadioGroup\\n                        row\\n                        value={state.codec}\\n                        onChange={update(\\\"setCodec\\\")}\\n                      >\\n                        <FormControlLabel\\n                          value=\\\"vp8\\\"\\n                          control={<Radio color=\\\"primary\\\" />}\\n                          label=\\\"vp8\\\"\\n                        />\\n                        <FormControlLabel\\n                          value=\\\"h264\\\"\\n                          control={<Radio color=\\\"primary\\\" />}\\n                          label=\\\"h264\\\"\\n                        />\\n                      </RadioGroup>\\n                    </FormControl>\\n                  </form>\\n                </ExpansionPanelDetails>\\n              </ExpansionPanel>\\n            </ThemeProvider>\\n          </Grid>\\n\\n          {/* display area */}\\n          <Grid item xs={12} md={8}>\\n            {localStream && (\\n              <StreamPlayer stream={localStream} fit=\\\"contain\\\" label=\\\"local\\\" />\\n            )}\\n            {remoteStreamList.map((stream: any) => (\\n              <StreamPlayer\\n                key={stream.getId()}\\n                stream={stream}\\n                fit=\\\"contain\\\"\\n                label={stream.getId()}\\n              />\\n            ))}\\n          </Grid>\\n        </Grid>\\n      </Container>\\n    </React.Fragment>\\n  );\\n}\\n\\nexport default function AppWithNotification() {\\n  return (\\n    <SnackbarProvider\\n      anchorOrigin={{ vertical: \\\"top\\\", horizontal: \\\"right\\\" }}\\n      autoHideDuration={2500}\\n      maxSnack={5}\\n    >\\n      <App />\\n    </SnackbarProvider>\\n  );\\n}\\n\",\"// This optional code is used to register a service worker.\\n// register() is not called by default.\\n\\n// This lets the app load faster on subsequent visits in production, and gives\\n// it offline capabilities. However, it also means that developers (and users)\\n// will only see deployed updates on subsequent visits to a page, after all the\\n// existing tabs open on the page have been closed, since previously cached\\n// resources are updated in the background.\\n\\n// To learn more about the benefits of this model and instructions on how to\\n// opt-in, read https://bit.ly/CRA-PWA\\n\\nconst isLocalhost = Boolean(\\n  window.location.hostname === 'localhost' ||\\n    // [::1] is the IPv6 localhost address.\\n    window.location.hostname === '[::1]' ||\\n    // 127.0.0.1/8 is considered localhost for IPv4.\\n    window.location.hostname.match(\\n      /^127(?:\\\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\\n    )\\n);\\n\\ntype Config = {\\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\\n};\\n\\nexport function register(config?: Config) {\\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\\n    // The URL constructor is available in all browsers that support SW.\\n    const publicUrl = new URL(\\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\\n      window.location.href\\n    );\\n    if (publicUrl.origin !== window.location.origin) {\\n      // Our service worker won't work if PUBLIC_URL is on a different origin\\n      // from what our page is served on. This might happen if a CDN is used to\\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\\n      return;\\n    }\\n\\n    window.addEventListener('load', () => {\\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\\n\\n      if (isLocalhost) {\\n        // This is running on localhost. Let's check if a service worker still exists or not.\\n        checkValidServiceWorker(swUrl, config);\\n\\n        // Add some additional logging to localhost, pointing developers to the\\n        // service worker/PWA documentation.\\n        navigator.serviceWorker.ready.then(() => {\\n          console.log(\\n            'This web app is being served cache-first by a service ' +\\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\\n          );\\n        });\\n      } else {\\n        // Is not localhost. Just register service worker\\n        registerValidSW(swUrl, config);\\n      }\\n    });\\n  }\\n}\\n\\nfunction registerValidSW(swUrl: string, config?: Config) {\\n  navigator.serviceWorker\\n    .register(swUrl)\\n    .then(registration => {\\n      registration.onupdatefound = () => {\\n        const installingWorker = registration.installing;\\n        if (installingWorker == null) {\\n          return;\\n        }\\n        installingWorker.onstatechange = () => {\\n          if (installingWorker.state === 'installed') {\\n            if (navigator.serviceWorker.controller) {\\n              // At this point, the updated precached content has been fetched,\\n              // but the previous service worker will still serve the older\\n              // content until all client tabs are closed.\\n              console.log(\\n                'New content is available and will be used when all ' +\\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\\n              );\\n\\n              // Execute callback\\n              if (config && config.onUpdate) {\\n                config.onUpdate(registration);\\n              }\\n            } else {\\n              // At this point, everything has been precached.\\n              // It's the perfect time to display a\\n              // \\\"Content is cached for offline use.\\\" message.\\n              console.log('Content is cached for offline use.');\\n\\n              // Execute callback\\n              if (config && config.onSuccess) {\\n                config.onSuccess(registration);\\n              }\\n            }\\n          }\\n        };\\n      };\\n    })\\n    .catch(error => {\\n      console.error('Error during service worker registration:', error);\\n    });\\n}\\n\\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\\n  // Check if the service worker can be found. If it can't reload the page.\\n  fetch(swUrl)\\n    .then(response => {\\n      // Ensure service worker exists, and that we really are getting a JS file.\\n      const contentType = response.headers.get('content-type');\\n      if (\\n        response.status === 404 ||\\n        (contentType != null && contentType.indexOf('javascript') === -1)\\n      ) {\\n        // No service worker found. Probably a different app. Reload the page.\\n        navigator.serviceWorker.ready.then(registration => {\\n          registration.unregister().then(() => {\\n            window.location.reload();\\n          });\\n        });\\n      } else {\\n        // Service worker found. Proceed as normal.\\n        registerValidSW(swUrl, config);\\n      }\\n    })\\n    .catch(() => {\\n      console.log(\\n        'No internet connection found. App is running in offline mode.'\\n      );\\n    });\\n}\\n\\nexport function unregister() {\\n  if ('serviceWorker' in navigator) {\\n    navigator.serviceWorker.ready.then(registration => {\\n      registration.unregister();\\n    });\\n  }\\n}\\n\",\"import React from \\\"react\\\";\\nimport ReactDOM from \\\"react-dom\\\";\\nimport \\\"./index.css\\\";\\nimport App from \\\"./App\\\";\\nimport * as serviceWorker from \\\"./serviceWorker\\\";\\nimport { createMuiTheme } from \\\"@material-ui/core/styles\\\";\\nimport { ThemeProvider } from \\\"@material-ui/styles\\\";\\n\\nconst theme = createMuiTheme({\\n  palette: {\\n    primary: {\\n      main: \\\"#1E88E5\\\"\\n    },\\n    secondary: {\\n      main: \\\"#FF4081\\\"\\n    }\\n  }\\n});\\n\\nReactDOM.render(\\n  <ThemeProvider theme={theme}>\\n    <App />\\n  </ThemeProvider>,\\n  document.getElementById(\\\"root\\\")\\n);\\n\\n// If you want your app to work offline and load faster, you can change\\n// unregister() to register() below. Note this comes with some pitfalls.\\n// Learn more about service workers: https://bit.ly/CRA-PWA\\nserviceWorker.unregister();\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,a,t){e.exports=t(132)},106:function(e,a,t){},132:function(e,a,t){\"use strict\";t.r(a);var n=t(0),r=t.n(n),c=t(8),o=t.n(c),l=(t(106),t(34)),i=t.n(l),u=t(58),s=t(18),m=t(25),d=t(76),v=t(186),p=t(94),f=t(185),b=t(183),h=t(184),E=t(187),g=t(191),j=t(188),O=t(182),C=t(195),I=t(198),y=t(197),w=t(192),k=t(193),x=t(91),S=t.n(x),W=t(194),N=t(189),L=t(190),D=t(196),F=t(199),M=t(48),T=t(180),A=t(67),B=t(65),J=t(88),P=t.n(J),U=t(89),q=t.n(U)()(P.a),R=q.createClient({mode:\"live\",codec:\"vp8\"}),V=function(){},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,a=Object(n.useState)([]),t=Object(s.a)(a,2),r=t[0],c=t[1];return Object(n.useEffect)(function(){var a=!0,t=function(){e&&e.getCameras().then(function(e){a&&c(e)}).catch(V)};return e&&e.on(\"camera-changed\",t),t(),function(){a=!1,e&&e.gatewayClient.removeEventListener(\"cameraChanged\",t)}},[e]),r},G=q.createClient({mode:\"live\",codec:\"vp8\"}),H=function(){},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,a=Object(n.useState)([]),t=Object(s.a)(a,2),r=t[0],c=t[1];return Object(n.useEffect)(function(){var a=!0,t=function(){e&&e.getRecordingDevices().then(function(e){a&&c(e)}).catch(H)};return e&&e.on(\"recording-device-changed\",t),t(),function(){a=!1,e&&e.gatewayClient.removeEventListener(\"recordingDeviceChanged\",t)}},[e]),r},K=t(92),Q=function(e,a){var t=Object(n.useState)(void 0),r=Object(s.a)(t,2),c=r[0],o=r[1],l=Object(n.useState)([]),i=Object(s.a)(l,2),u=i[0],m=i[1];return Object(n.useEffect)(function(){var t=!0,n=function(e){if(t){var a=e.stream;m(function(e){return[].concat(Object(K.a)(e),[a])})}},r=function(e){var a=e.stream;if(a){var t=a.getId(),n=u.findIndex(function(e){return e.getId()===t});-1!==n&&m(function(e){return e.splice(n,1),e})}},c=function(n){t&&(a?a(n.stream.getId())&&e.subscribe(n.stream):e.subscribe(n.stream))},l=function(e){if(t){var a,n=e.stream,r=n.stop,c=n.close;n.close=(a=c,function(){a(),o(void 0)}),n.stop=function(e){return function(){e(),o(void 0)}}(r),o(n)}};return e&&(e.on(\"stream-published\",l),e.on(\"stream-added\",c),e.on(\"stream-subscribed\",n),e.on(\"peer-leave\",r),e.on(\"stream-removed\",r)),function(){t=!1,e&&(e.gatewayClient.removeEventListener(\"stream-published\",l),e.gatewayClient.removeEventListener(\"stream-added\",c),e.gatewayClient.removeEventListener(\"stream-subscribed\",n),e.gatewayClient.removeEventListener(\"peer-leave\",r),e.gatewayClient.removeEventListener(\"stream-removed\",r))}},[e,a]),[c,u,[c].concat(u)]},X=Object(d.a)(function(e){return{root:{flexGrow:1,padding:12},title:{fontWeight:400},divider:{marginBottom:\"32px\"},buttonContainer:{display:\"flex\",justifyContent:\"space-around\"},buttonItem:{width:\"38.2%\"},advanceSettings:{marginTop:16}}}),Y={appId:\"\",channel:\"\",uid:\"\",token:void 0,cameraId:\"\",microphoneId:\"\",mode:\"rtc\",codec:\"h264\"},Z=function(e,a){switch(a.type){default:return e;case\"setAppId\":return Object(m.a)({},e,{appId:a.value});case\"setChannel\":return Object(m.a)({},e,{channel:a.value});case\"setUid\":return Object(m.a)({},e,{uid:a.value});case\"setToken\":return Object(m.a)({},e,{token:a.value});case\"setCamera\":return Object(m.a)({},e,{cameraId:a.value});case\"setMicrophone\":return Object(m.a)({},e,{microphoneId:a.value});case\"setMode\":return Object(m.a)({},e,{mode:a.value});case\"setCodec\":return Object(m.a)({},e,{codec:a.value})}};function _(){var e=X(),a=Object(n.useState)(!1),t=Object(s.a)(a,2),c=t[0],o=t[1],l=Object(n.useState)(!1),m=Object(s.a)(l,2),d=m[0],x=m[1],J=Object(n.useState)(!1),P=Object(s.a)(J,2),U=P[0],R=P[1],V=Object(n.useReducer)(Z,Y),G=Object(s.a)(V,2),H=G[0],K=G[1],_=Object(n.useState)(void 0),ee=Object(s.a)(_,2),ae=ee[0],te=ee[1],ne=z(),re=$(),ce=Q(ae),oe=Object(s.a)(ce,3),le=oe[0],ie=oe[1],ue=(oe[2],Object(B.useSnackbar)().enqueueSnackbar),se=function(e){return function(a){return K({type:e,value:a.target.value})}},me=function(){var e=Object(u.a)(i.a.mark(function e(){var a,t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=q.createClient({mode:H.mode,codec:H.codec}),te(a),R(!0),e.prev=3,t=isNaN(Number(H.uid))?null:Number(H.uid),e.next=7,a.init(H.appId);case 7:return e.next=9,a.join(H.token,H.channel,t);case 9:return n=q.createStream({streamID:t||12345,video:!0,audio:!0,screen:!1}),e.next=12,n.init();case 12:return e.next=14,a.publish(n);case 14:x(!0),o(!0),ue(\"Joined channel \".concat(H.channel),{variant:\"info\"}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(3),ue(\"Failed to join, \".concat(e.t0),{variant:\"error\"});case 22:return e.prev=22,R(!1),e.finish(22);case 25:case\"end\":return e.stop()}},e,null,[[3,19,22,25]])}));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(u.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(R(!0),e.prev=1,!le){e.next=6;break}return e.next=5,ae.publish(le);case 5:x(!0);case 6:ue(\"Stream published\",{variant:\"info\"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),ue(\"Failed to publish, \".concat(e.t0),{variant:\"error\"});case 12:return e.prev=12,R(!1),e.finish(12);case 15:case\"end\":return e.stop()}},e,null,[[1,9,12,15]])}));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=Object(u.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.prev=1,le&&(le.close(),ae.unpublish(le)),e.next=5,ae.leave();case 5:x(!1),o(!1),ue(\"Left channel\",{variant:\"info\"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),ue(\"Failed to leave, \".concat(e.t0),{variant:\"error\"});case 13:return e.prev=13,R(!1),e.finish(13);case 16:case\"end\":return e.stop()}},e,null,[[1,10,13,16]])}));return function(){return e.apply(this,arguments)}}(),pe=function(){le&&(ae.unpublish(le),x(!1),ue(\"Stream unpublished\",{variant:\"info\"}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{color:\"primary\"},r.a.createElement(h.a,null,r.a.createElement(p.a,{className:e.title,variant:\"h6\"},\"Basic Communication\"))),r.a.createElement(h.a,{className:e.divider}),r.a.createElement(f.a,null,r.a.createElement(v.a,{container:!0,spacing:3},r.a.createElement(v.a,{item:!0,xs:12,md:4},r.a.createElement(E.a,null,r.a.createElement(j.a,null,r.a.createElement(\"form\",{noValidate:!0,autoComplete:\"off\"},r.a.createElement(C.a,{required:!0,value:H.appId,onChange:se(\"setAppId\"),id:\"appId\",label:\"App ID\",fullWidth:!0,margin:\"normal\"}),r.a.createElement(C.a,{required:!0,value:H.channel,onChange:se(\"setChannel\"),id:\"channel\",label:\"Channel\",fullWidth:!0,margin:\"normal\"}),r.a.createElement(C.a,{value:H.token,onChange:se(\"setToken\"),id:\"token\",label:\"Token\",fullWidth:!0,margin:\"normal\"}))),r.a.createElement(g.a,{className:e.buttonContainer},r.a.createElement(function(){return r.a.createElement(O.a,{className:e.buttonItem,color:c?\"secondary\":\"primary\",onClick:c?ve:me,variant:\"contained\",disabled:U},c?\"Leave\":\"Join\")},null),r.a.createElement(function(){return r.a.createElement(O.a,{className:e.buttonItem,color:d?\"secondary\":\"default\",onClick:d?pe:de,variant:\"contained\",disabled:!c||U},d?\"Unpublish\":\"Publish\")},null))),r.a.createElement(T.a,{theme:Object(M.a)({palette:{type:\"dark\"}})},r.a.createElement(y.a,{className:e.advanceSettings},r.a.createElement(w.a,{expandIcon:r.a.createElement(S.a,null)},r.a.createElement(p.a,null,\"Advanced Settings\")),r.a.createElement(k.a,null,r.a.createElement(\"form\",{noValidate:!0,autoComplete:\"off\"},r.a.createElement(C.a,{value:H.uid,id:\"uid\",onChange:se(\"setUid\"),label:\"UID\",fullWidth:!0,margin:\"normal\"}),r.a.createElement(C.a,{id:\"cameraId\",value:H.cameraId,onChange:se(\"setCamera\"),select:!0,label:\"Camera\",helperText:\"Please select your camera\",fullWidth:!0,margin:\"normal\"},ne.map(function(e){return r.a.createElement(I.a,{key:e.deviceId,value:e.deviceId},e.label)})),r.a.createElement(C.a,{id:\"microphoneId\",value:H.microphoneId,onChange:se(\"setMicrophone\"),select:!0,label:\"Microphone\",helperText:\"Please select your microphone\",fullWidth:!0,margin:\"normal\"},re.map(function(e){return r.a.createElement(I.a,{key:e.deviceId,value:e.deviceId},e.label)})),r.a.createElement(N.a,{fullWidth:!0,component:\"fieldset\",margin:\"normal\"},r.a.createElement(L.a,null,\"Mode\"),r.a.createElement(F.a,{row:!0,value:H.mode,onChange:se(\"setMode\")},r.a.createElement(W.a,{value:\"live\",control:r.a.createElement(D.a,{color:\"primary\"}),label:\"live\"}),r.a.createElement(W.a,{value:\"rtc\",control:r.a.createElement(D.a,{color:\"primary\"}),label:\"rtc\"}))),r.a.createElement(N.a,{fullWidth:!0,component:\"fieldset\",margin:\"normal\"},r.a.createElement(L.a,null,\"Codec\"),r.a.createElement(F.a,{row:!0,value:H.codec,onChange:se(\"setCodec\")},r.a.createElement(W.a,{value:\"vp8\",control:r.a.createElement(D.a,{color:\"primary\"}),label:\"vp8\"}),r.a.createElement(W.a,{value:\"h264\",control:r.a.createElement(D.a,{color:\"primary\"}),label:\"h264\"})))))))),r.a.createElement(v.a,{item:!0,xs:12,md:8},le&&r.a.createElement(A.a,{stream:le,fit:\"contain\",label:\"local\"}),ie.map(function(e){return r.a.createElement(A.a,{key:e.getId(),stream:e,fit:\"contain\",label:e.getId()})})))))}Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ee=Object(M.a)({palette:{primary:{main:\"#1E88E5\"},secondary:{main:\"#FF4081\"}}});o.a.render(r.a.createElement(T.a,{theme:ee},r.a.createElement(function(){return r.a.createElement(B.SnackbarProvider,{anchorOrigin:{vertical:\"top\",horizontal:\"right\"},autoHideDuration:2500,maxSnack:5},r.a.createElement(_,null))},null)),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[101,1,2]]]);","extractedComments":[]}