"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function enhance(subject, methodEnhancers) {
    var handler = {
        get: function (target, prop, receiver) {
            var origin = Reflect.get(target, prop, receiver);
            if (origin instanceof Function) {
                return new Proxy(origin, methodsProxyHandler(prop));
            }
            return origin;
        }
    };
    var methodsProxyHandler = function (methodName) {
        return {
            apply: function (target, thisArg, argumentList) {
                for (var _i = 0, methodEnhancers_1 = methodEnhancers; _i < methodEnhancers_1.length; _i++) {
                    var func = methodEnhancers_1[_i];
                    return func(methodName, { target: target, thisArg: thisArg, argumentList: argumentList });
                }
            }
        };
    };
    var result = new Proxy(subject, handler);
    return result;
}
exports.default = enhance;
